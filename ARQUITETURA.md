# ğŸ—ï¸ BREWTAB - Diagrama de Arquitetura e Fluxo

## Diagrama de Componentes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BREWTAB v1.0.0                             â”‚
â”‚           Sistema de GestÃ£o de Cervejarias HACCP                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CAMADA APRESENTAÃ‡ÃƒO (UI)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Homepage   â”‚  â”‚   Auth       â”‚  â”‚  Cervejaria  â”‚            â”‚
â”‚  â”‚  /          â”‚  â”‚  /login      â”‚  â”‚  /cervejaria â”‚            â”‚
â”‚  â”‚  /signup    â”‚  â”‚  /logout     â”‚  â”‚  /editar     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Processos (SOP) â”‚  â”‚  ExecuÃ§Ã£o    â”‚  â”‚  HACCP      â”‚        â”‚
â”‚  â”‚  /processos/     â”‚  â”‚  /executar/  â”‚  â”‚  /pontos-   â”‚        â”‚
â”‚  â”‚  /criar/         â”‚  â”‚  /checklist/ â”‚  â”‚  criticos/  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  NÃ£o-Conformidadesâ”‚  â”‚  AÃ§Ãµes Corretivasâ”‚  â”‚  Dashboard-DRE  â”‚ â”‚
â”‚  â”‚  /nao-conformid/ â”‚  â”‚  /acao-corretiva/â”‚  â”‚  /dashboard/    â”‚ â”‚
â”‚  â”‚  /criar-nc/      â”‚  â”‚  /criar-capa/   â”‚  â”‚  /dre/          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚               â”‚              â”‚
         â–¼                â–¼               â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CAMADA APLICAÃ‡ÃƒO (DJANGO VIEWS)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  @login_required          verifica_propriedade()               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ 20+ FBV Views  â”‚       â”‚ Security Function   â”‚              â”‚
â”‚  â”‚ - brewery_*    â”‚â”€â”€â”€â”€â”€â”€â†’â”‚ Checks user ==      â”‚              â”‚
â”‚  â”‚ - lista_*      â”‚       â”‚ brewery.owner       â”‚              â”‚
â”‚  â”‚ - criar_*      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”‚ - editar_*     â”‚                                             â”‚
â”‚  â”‚ - deletar_*    â”‚       QuerySet.filter()                    â”‚
â”‚  â”‚ - executar_*   â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ - dashboard_*  â”‚â”€â”€â”€â”€â”€â”€â†’â”‚ Filtra por ownershipâ”‚              â”‚
â”‚  â”‚ - relatorio_*  â”‚       â”‚ Sem cross-tenant    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚               â”‚              â”‚
         â–¼                â–¼               â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 CAMADA MODELO (ORM DJANGO)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ User (Auth)  â”‚  â”‚  Brewery    â”‚  â”‚  Processo    â”‚           â”‚
â”‚  â”‚ - username   â”‚  â”‚  - name     â”‚  â”‚  - nome      â”‚           â”‚
â”‚  â”‚ - email      â”‚  â”‚  - owner_id â”‚  â”‚  - categoria â”‚           â”‚
â”‚  â”‚ - password   â”‚  â”‚  - created  â”‚  â”‚  - cervejariaâ”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚        â”‚ 1:N             â”‚ 1:N            â”‚ 1:N                 â”‚
â”‚        â–¼                 â–¼                â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ (FK:User)  â”‚  â”‚ EtapaProcessoâ”‚  â”‚ExecuÃ§Ã£o      â”‚           â”‚
â”‚  â”‚ Brewery.   â”‚  â”‚ - nome       â”‚  â”‚Processo      â”‚           â”‚
â”‚  â”‚ owner      â”‚  â”‚ - ordem      â”‚  â”‚ - status     â”‚           â”‚
â”‚  â”‚            â”‚  â”‚ - processo   â”‚  â”‚ - data_inicioâ”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚  â”‚              â”‚           â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                        â”‚ 1:N            â”‚ 1:N                  â”‚
â”‚                        â–¼                â–¼                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚              â”‚ PontoCriticoHACCPâ”‚  â”‚ ExecucaoEtapaâ”‚            â”‚
â”‚              â”‚ - tipo           â”‚  â”‚ - concluida  â”‚            â”‚
â”‚              â”‚ - limite_min/max â”‚  â”‚ - data_conc  â”‚            â”‚
â”‚              â”‚ - acao_*         â”‚  â”‚              â”‚            â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                     â”‚ 1:N                â”‚ 1:N                 â”‚
â”‚                     â–¼                    â–¼                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚              â”‚ RegistroHACCPâ”‚      â”‚ Nao          â”‚            â”‚
â”‚              â”‚ - valor_med  â”‚      â”‚ Conformidade â”‚            â”‚
â”‚              â”‚ - conforme   â”‚      â”‚ - severidade â”‚            â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ - status     â”‚            â”‚
â”‚                     â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                     â”‚                    â”‚ 1:N                 â”‚
â”‚                     â”‚                    â–¼                     â”‚
â”‚                     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                     â”‚              â”‚ Acao         â”‚            â”‚
â”‚                     â”‚              â”‚ Corretiva    â”‚            â”‚
â”‚                     â”‚              â”‚ (CAPA)       â”‚            â”‚
â”‚                     â”‚              â”‚ - tipo       â”‚            â”‚
â”‚                     â”‚              â”‚ - data_prev  â”‚            â”‚
â”‚                     â”‚              â”‚ - resultado  â”‚            â”‚
â”‚                     â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                     â”‚                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚              â”‚ HistoricoExecucaoâ”‚                             â”‚
â”‚              â”‚ - acao           â”‚                             â”‚
â”‚              â”‚ - usuario        â”‚                             â”‚
â”‚              â”‚ - data_hora      â”‚                             â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ KPIExercicio (Consolidado)                             â”‚    â”‚
â”‚  â”‚ - taxa_conformidade (%) - AUTO CALCULADO              â”‚    â”‚
â”‚  â”‚ - registros_haccp_conformes/nao_conformes             â”‚    â”‚
â”‚  â”‚ - total_ncs, ncs_fechadas, ncs_criticas              â”‚    â”‚
â”‚  â”‚ - total_capas, capas_concluidas                      â”‚    â”‚
â”‚  â”‚ - receita_bruta, custos, lucro_liquido              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CAMADA PERSISTÃŠNCIA (BD)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  SQLite3: db.sqlite3                                           â”‚
â”‚  â”œâ”€ auth_user (Django default)                                â”‚
â”‚  â”œâ”€ brewery_brewery                                           â”‚
â”‚  â”œâ”€ processes_processo                                        â”‚
â”‚  â”œâ”€ processes_etapaprocesso                                   â”‚
â”‚  â”œâ”€ processes_executacaoprocesso                              â”‚
â”‚  â”œâ”€ processes_execucaoetapa                                   â”‚
â”‚  â”œâ”€ processes_historico_execucao                              â”‚
â”‚  â”œâ”€ processes_pontocriticohaccp                               â”‚
â”‚  â”œâ”€ processes_registrohaccp                                   â”‚
â”‚  â”œâ”€ processes_naoconformidade                                 â”‚
â”‚  â”œâ”€ processes_acaocorretiva                                   â”‚
â”‚  â””â”€ processes_kpiexercicio                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Fluxo de RequisiÃ§Ã£o HTTP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navegador   â”‚
â”‚ GET /procesoâ”‚
â”‚ s/...       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Django URL Router (urls.py)   â”‚
â”‚   processes/urls.py             â”‚
â”‚   Match: /processos/ â†’ view     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Decorator: @login_required          â”‚
â”‚  âœ“ User cadastro: SIM                â”‚
â”‚  âœ“ Session vÃ¡lida: SIM               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Se nÃ£o: Redirect /login/
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SeguranÃ§a: verifica_propriedade()   â”‚
â”‚  âœ“ brewery.owner == request.user?    â”‚
â”‚  âœ“ Acesso: PERMITIDO                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Se nÃ£o: HttpResponseForbidden
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  View Function (processes/views.py)  â”‚
â”‚  - Recebe request + parametrosURL    â”‚
â”‚  - Queries banco de dados (ORM)      â”‚
â”‚  - Processa lÃ³gica de negÃ³cio        â”‚
â”‚  - Prepara contexto                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Template Rendering (HTML)           â”‚
â”‚  - HeranÃ§a de base.html              â”‚
â”‚  - IteraÃ§Ã£o sobre contexto           â”‚
â”‚  - InclusÃ£o de CSS/JS                â”‚
â”‚  - CSRF token em forms               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response HTTP 200 OK                â”‚
â”‚  Content-Type: text/html             â”‚
â”‚  Body: HTML renderizado              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navegador Renderiza                 â”‚
â”‚  - Parse HTML                        â”‚
â”‚  - Carrega CSS                       â”‚
â”‚  - Executa JS (se houver)            â”‚
â”‚  - Renderiza pÃ¡gina                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Fluxo de ExecuÃ§Ã£o de Processo (Core Business)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. PLANEJAMENTO                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  UsuÃ¡rio define:                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ PROCESSO (SOP)                              â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ Nome: "Brassagem"                           â”‚       â”‚
â”‚  â”‚ Categoria: ProduÃ§Ã£o                         â”‚       â”‚
â”‚  â”‚ DescriÃ§Ã£o: ...                              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                    â”‚                                    â”‚
â”‚                    â”œâ”€ Etapa 1: Aquecimento Ã¡gua        â”‚
â”‚                    â”œâ”€ Etapa 2: AdiÃ§Ã£o de malte         â”‚
â”‚                    â”œâ”€ Etapa 3: MaceraÃ§Ã£o (64-67Â°C)    â”‚
â”‚                    â””â”€ Etapa 4: Filtragem               â”‚
â”‚                                                          â”‚
â”‚  Define Pontos CrÃ­ticos HACCP:                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Ponto 1: Temperatura de MaceraÃ§Ã£o            â”‚      â”‚
â”‚  â”‚ - Tipo: Temperatura                          â”‚      â”‚
â”‚  â”‚ - Limite: 64-67Â°C                            â”‚      â”‚
â”‚  â”‚ - AÃ§Ã£o Preventiva: Monitorar termÃ´metro      â”‚      â”‚
â”‚  â”‚ - AÃ§Ã£o Corretiva: Ajustar aquecimento        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. EXECUÃ‡ÃƒO                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  UsuÃ¡rio clica: "Executar Processo"                     â”‚
â”‚        â”‚                                                 â”‚
â”‚        â–¼                                                 â”‚
â”‚  Sistema cria:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ EXECUÃ‡ÃƒO DO PROCESSO                    â”‚           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚  â”‚ Status: EM_PROGRESSO                    â”‚           â”‚
â”‚  â”‚ Data InÃ­cio: 2026-02-06 10:00           â”‚           â”‚
â”‚  â”‚ UsuÃ¡rio: admin                          â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                    â”‚                                    â”‚
â”‚  Sistema gera automaticamente:                          â”‚
â”‚    â€¢ ExecucaoEtapa 1: Aquecimento Ã¡gua (pendente)      â”‚
â”‚    â€¢ ExecucaoEtapa 2: AdiÃ§Ã£o de malte (pendente)       â”‚
â”‚    â€¢ ExecucaoEtapa 3: MaceraÃ§Ã£o (pendente)             â”‚
â”‚    â€¢ ExecucaoEtapa 4: Filtragem (pendente)            â”‚
â”‚                                                          â”‚
â”‚  UsuÃ¡rio vÃª CHECKLIST INTERATIVO:                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ [  ] 1. Aquecimento Ã¡gua                â”‚           â”‚
â”‚  â”‚ [  ] 2. AdiÃ§Ã£o de malte                 â”‚           â”‚
â”‚  â”‚ [  ] 3. MaceraÃ§Ã£o (Monitorar: 64-67Â°C) â”‚           â”‚
â”‚  â”‚ [  ] 4. Filtragem                      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. MONITORAMENTO HACCP (Durante ExecuÃ§Ã£o)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  Processo: Etapa 3 (MaceraÃ§Ã£o)                           â”‚
â”‚  Ponto CrÃ­tico: Temperatura                              â”‚
â”‚                                                           â”‚
â”‚  UsuÃ¡rio mede: 65.5Â°C                                   â”‚
â”‚        â”‚                                                 â”‚
â”‚        â”œâ”€ EstÃ¡ em conformidade? SIM (64-67Â°C)           â”‚
â”‚        â”‚                                                 â”‚
â”‚        â–¼                                                 â”‚
â”‚  Sistema cria:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ REGISTRO HACCP                             â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ Ponto CrÃ­tico: Temperatura de MaceraÃ§Ã£o   â”‚         â”‚
â”‚  â”‚ Valor Medido: 65.5Â°C                      â”‚         â”‚
â”‚  â”‚ Conforme: SIM âœ“                           â”‚         â”‚
â”‚  â”‚ UsuÃ¡rio: admin                            â”‚         â”‚
â”‚  â”‚ Data/Hora: 2026-02-06 10:15               â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                           â”‚
â”‚  âœ“ ContinuaÃ§Ã£o normal                                    â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. DESVIO DETECTADO - CRIAR NC                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  Se em etapa posterior mede: 62Â°C (ABAIXO de 64Â°C)      â”‚
â”‚        â”‚                                                 â”‚
â”‚        â”œâ”€ EstÃ¡ em conformidade? NÃƒO âœ—                  â”‚
â”‚        â”‚                                                 â”‚
â”‚        â–¼                                                 â”‚
â”‚  UsuÃ¡rio cria NÃƒO CONFORMIDADE:                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ NC-001: Temperatura Abaixo do Esperado       â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ Severidade: ALTA (risco de nÃ£o conversÃ£o)   â”‚       â”‚
â”‚  â”‚ Status: ABERTA                              â”‚       â”‚
â”‚  â”‚ DescriÃ§Ã£o: Temperatura caiu para 62Â°C...   â”‚       â”‚
â”‚  â”‚ Criado por: admin                           â”‚       â”‚
â”‚  â”‚ Data: 2026-02-06 10:20                      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                           â”‚
â”‚  Sistema registra:                                      â”‚
â”‚  â€¢ HistoricoExecucao: "NC-001 criada"                 â”‚
â”‚  â€¢ LinkExecution: NC â†’ ExecutacaoProcesso             â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. AÃ‡ÃƒO CORRETIVA (CAPA)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  UsuÃ¡rio acessa NC-001 â†’ "+ AÃ§Ã£o Corretiva"             â”‚
â”‚        â”‚                                                 â”‚
â”‚        â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ CAPA: CorreÃ§Ã£o da Temperatura                â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ Tipo: CORREÃ‡ÃƒO                              â”‚       â”‚
â”‚  â”‚ DescriÃ§Ã£o: Aumentar aquecimento em 50W      â”‚       â”‚
â”‚  â”‚ ResponsÃ¡vel: JoÃ£o (Supervisor)              â”‚       â”‚
â”‚  â”‚ Data Prevista: 2026-02-06 11:00             â”‚       â”‚
â”‚  â”‚ Status: PLANEJADA                           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                           â”‚
â”‚  Sistema atualiza:                                       â”‚
â”‚  â€¢ Status NC: ABERTA â†’ EM_CORRECAO                     â”‚
â”‚  â€¢ Registra: HistoricoExecucao: "CAPA criada"         â”‚
â”‚                                                           â”‚
â”‚  ApÃ³s execuÃ§Ã£o:                                         â”‚
â”‚  â€¢ UsuÃ¡rio atualiza: Status CAPA â†’ CONCLUIDA           â”‚
â”‚  â€¢ Resultado: "Aquecimento aumentado, temp 65Â°C"       â”‚
â”‚  â€¢ Se OK: Status NC â†’ FECHADA                          â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. TÃ‰RMINO E RELATÃ“RIO                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  UsuÃ¡rio finaliza: "Finalizar ExecuÃ§Ã£o"                  â”‚
â”‚        â”‚                                                  â”‚
â”‚        â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ EXECUÃ‡ÃƒO DO PROCESSO                   â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚ Status: CONCLUIDA âœ“                    â”‚              â”‚
â”‚  â”‚ Data ConclusÃ£o: 2026-02-06 11:30       â”‚              â”‚
â”‚  â”‚ ObservaÃ§Ãµes: Teve 1 NC, resolvida      â”‚              â”‚
â”‚  â”‚ Total Etapas: 4 (4 concluÃ­das)         â”‚              â”‚
â”‚  â”‚ Registros HACCP: 4 (1 fora, 3 conform) â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                            â”‚
â”‚  EstatÃ­sticas da ExecuÃ§Ã£o:                               â”‚
â”‚  â€¢ Tempo total: 1h 30min                                 â”‚
â”‚  â€¢ Taxa conformidade HACCP: 75% (3/4 conformes)         â”‚
â”‚  â€¢ NCs geradas: 1 (FECHADA)                             â”‚
â”‚  â€¢CAPAs criadas: 1 (CONCLUIDA)                          â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. DASHBOARD & DRE                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Dashboard (KPIs em Tempo Real):                         â”‚
â”‚  â”Œâ”€ Total Processos Executados: 5                       â”‚
â”‚  â”œâ”€ Sem NC: 4 (80%)                                     â”‚
â”‚  â”œâ”€ NCs Ativas: 0                                       â”‚
â”‚  â”œâ”€ CAPAs ConcluÃ­das: 3/3                               â”‚
â”‚  â””â”€ Taxa Conformidade HACCP: 92%                        â”‚
â”‚                                                            â”‚
â”‚  DRE (PerÃ­odo: 30 dias):                                 â”‚
â”‚  â”Œâ”€ Processos Executados: 5                             â”‚
â”‚  â”œâ”€ Taxa Conformidade: 80% (4/5 sem NC)                â”‚
â”‚  â”œâ”€ Registros HACCP: 20  (18 conformes, 2 desvios)     â”‚
â”‚  â”‚                                                       â”‚
â”‚  â”œâ”€ NÃ£o Conformidades: Total 2                          â”‚
â”‚  â”‚  â”œâ”€ Abertas: 0                                       â”‚
â”‚  â”‚  â”œâ”€ Fechadas: 2 âœ“                                    â”‚
â”‚  â”‚  â””â”€ CrÃ­ticas: 0                                      â”‚
â”‚  â”‚                                                       â”‚
â”‚  â””â”€ AÃ§Ãµes Corretivas: Total 2                           â”‚
â”‚     â”œâ”€ ConcluÃ­das: 2 âœ“                                  â”‚
â”‚     â””â”€ Pendentes: 0                                     â”‚
â”‚                                                            â”‚
â”‚  RESULTADO FINAL: âœ“ CONFORMIDADE OK                     â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Matriz de SeguranÃ§a

```
OperaÃ§Ã£o â†’ AutenticaÃ§Ã£o â†’ AutorizaÃ§Ã£o â†’ ValidaÃ§Ã£o â†’ PersistÃªncia
   â”‚            â”‚              â”‚            â”‚            â”‚
   â–¼            â–¼              â–¼            â–¼            â–¼
 GET /     @login_required verifica_prop   N/A      SELECT
cervejariaâ”‚           â”‚          â”‚                        â”‚
   â”‚      âœ“ Auth      âœ“ owner==  N/A       âœ“ Lazy        â”‚
   â”‚      Cookie?     user?    ORM         Query       ORM
   â”‚         â”‚          â”‚                               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /   @login_required verifica_prop  Form.is_valid() INSERT
processo â”‚           â”‚          â”‚             â”‚           â”‚
criar    âœ“ Auth      âœ“ owner==  âœ“ Cannot      âœ“ Save    ORM
         Cookie?     user?      duplicate    transaction
            â”‚          â”‚            â”‚            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DELETE/  @login_required verifica_prop  Confirmar POST DELETE
brewery  â”‚           â”‚          â”‚             â”‚      â”‚
deletar  âœ“ Auth      âœ“ owner==  âœ“ CSRF        âœ“      ORM
         Cookie?     user?      token        cascad
            â”‚          â”‚            â”‚            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Checklist de Funcionalidades

```
ETAPA 1: AUTENTICAÃ‡ÃƒO E CERVEJARIAS
â”œâ”€â”€ âœ… Signup com validaÃ§Ã£o
â”œâ”€â”€ âœ… Login com sessÃµes Django
â”œâ”€â”€ âœ… Logout seguro
â”œâ”€â”€ âœ… CRUD Breweries
â”œâ”€â”€ âœ… Propriedade verificada
â””â”€â”€ âœ… Admin Django funcional

ETAPA 2: PROCESSOS (SOP)
â”œâ”€â”€ âœ… CRUD Processos
â”œâ”€â”€ âœ… CRUD Etapas
â”œâ”€â”€ âœ… Hierarquia Processoâ†’Etapas
â”œâ”€â”€ âœ… ValidaÃ§Ã£o de ordem Ãºnica
â”œâ”€â”€ âœ… Admin com inline
â””â”€â”€ âœ… CategorizaÃ§Ã£o

ETAPA 3: EXECUÃ‡ÃƒO
â”œâ”€â”€ âœ… Iniciar execuÃ§Ã£o
â”œâ”€â”€ âœ… Checklist interativo
â”œâ”€â”€ âœ… Marcar etapas concluÃ­das
â”œâ”€â”€ âœ… HistÃ³rico de execuÃ§Ãµes
â”œâ”€â”€ âœ… ObservaÃ§Ãµes por etapa
â””â”€â”€ âœ… Timestamps automÃ¡ticos

ETAPA 4: RASTREAMENTO
â”œâ”€â”€ âœ… Log de operaÃ§Ãµes
â”œâ”€â”€ âœ… Por usuÃ¡rio
â”œâ”€â”€ âœ… Data/hora precisa
â”œâ”€â”€ âœ… DescriÃ§Ã£o detalhada
â””â”€â”€ âœ… Auditoria completa

ETAPA 5: HACCP
â”œâ”€â”€ âœ… Definir pontos crÃ­ticos
â”œâ”€â”€ âœ… Limites min/max
â”œâ”€â”€ âœ… Tipos de monitoramento
â”œâ”€â”€ âœ… AÃ§Ãµes preventivas
â”œâ”€â”€ âœ… AÃ§Ãµes corretivas
â”œâ”€â”€ âœ… Registros de monitoramento
â””â”€â”€ âœ… Conformidade flag

ETAPA 6: NÃƒO CONFORMIDADES
â”œâ”€â”€ âœ… Criar NC
â”œâ”€â”€ âœ… Severidade: Baixa/MÃ©dia/Alta/CrÃ­tica
â”œâ”€â”€ âœ… Status: Aberta/AnÃ¡li se/CorreÃ§Ã£o/Fechada
â”œâ”€â”€ âœ… Link com execuÃ§Ã£o
â”œâ”€â”€ âœ… HistÃ³rico de mudanÃ§as
â””â”€â”€ âœ… Listagem com filtros

ETAPA 7: AÃ‡Ã•ES CORRETIVAS
â”œâ”€â”€ âœ… Criar CAPA
â”œâ”€â”€ âœ… Tipo: CorreÃ§Ã£o/PrevenÃ§Ã£o
â”œâ”€â”€ âœ… ResponsÃ¡vel designado
â”œâ”€â”€ âœ… Data prevista
â”œâ”€â”€ âœ… Data conclusÃ£o
â”œâ”€â”€ âœ… Resultado documentado
â””â”€â”€ âœ… Status workflow

ETAPA 8: DASHBOARD & DRE
â”œâ”€â”€ âœ… KPIs em tempo real
â”œâ”€â”€ âœ… Cards informativos
â”œâ”€â”€ âœ… Ãšltimas NCs
â”œâ”€â”€ âœ… PerÃ­odo selecionÃ¡vel
â”œâ”€â”€ âœ… Taxa conformidade auto
â”œâ”€â”€ âœ… HACCP resumo
â”œâ”€â”€ âœ… AÃ§Ãµes corretivas status
â””â”€â”€ âœ… RelatÃ³rio estruturado

SEGURANÃ‡A
â”œâ”€â”€ âœ… CSRF tokens
â”œâ”€â”€ âœ… @login_required
â”œâ”€â”€ âœ… verifica_propriedade()
â”œâ”€â”€ âœ… QuerySet filtering
â”œâ”€â”€ âœ… ORM injection-safe
â””â”€â”€ âœ… Sem cross-tenant

QUALIDADE DE CÃ“DIGO
â”œâ”€â”€ âœ… 0 erros Django check
â”œâ”€â”€ âœ… MigraÃ§Ãµes aplicadas
â”œâ”€â”€ âœ… ValidaÃ§Ãµes server-side
â”œâ”€â”€ âœ… Mensagens de feedback
â”œâ”€â”€ âœ… DocumentaÃ§Ã£o completa
â””â”€â”€ âœ… 100% PT-BR
```

---

**Diagrama Criado: 06/02/2026 | BREWTAB v1.0.0**

